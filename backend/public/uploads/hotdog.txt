async uploadFile() {
  try {
    if (!this.form.file) {
      throw new Error('Please select a file.');
    }

    console.log('Data to be uploaded:', this.form);
    console.log('Form ID:', this.formId);

    const formData = new FormData();
    formData.append('file', this.form.file);
    formData.append('form_id', this.formId);

    const response = await axios.post('http://127.0.0.1:8000/api/upload', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
      }
    });

    console.log('File Path:', this.form.file.path);

    const newUpload = {
      form_id: response.data.form_id,
      file_path: response.data.file_path,
      created_at: response.data.created_at,
    };

    // Push the new upload to the beginning of the array
    this.uploads.unshift(newUpload);

    // Clear the file input
    this.form.file = null;

    this.error = '';
    alert('File uploaded successfully!');
  } catch (error) {
    if (error.response && error.response.status === 422) {
      this.error = error.response.data.error || 'Validation error.';
    } else {
      this.error = 'Error uploading file.';
      console.error('Error uploading file:', error.message);
    }

    if (error.message === 'Please select a file.') {
      alert('Please select a file.');
    }
  }
}
